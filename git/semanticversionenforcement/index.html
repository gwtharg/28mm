<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="description" content="">


    <link rel="icon" href="/28mm/images/favicon.png" type="image/png">

    <title>Semantic Version Enforcement :: Walmo SDLC Test</title>

    
    <link href="/28mm/css/nucleus.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/fontawesome-all.min.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/hybrid.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/featherlight.min.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/perfect-scrollbar.min.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/auto-complete.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/atom-one-dark-reasonable.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/theme.css?1588328735" rel="stylesheet">
    <link href="/28mm/css/hugo-theme.css?1588328735" rel="stylesheet">
    
      <link href="/28mm/css/theme-red.css?1588328735" rel="stylesheet">
    

    <script src="/28mm/js/jquery-3.3.1.min.js?1588328735"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/28mm/git/semanticversionenforcement/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a>
<a id="logo" href="https://gwtharg.github.io/28mm/"> 
 <img src="/28mm/images/logo.png" width="160" height="120" alt="fab">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/28mm/js/lunr.min.js?1588328735"></script>
<script type="text/javascript" src="/28mm/js/auto-complete.js?1588328735"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/gwtharg.github.io\/28mm\/";
    
</script>
<script type="text/javascript" src="/28mm/js/search.js?1588328735"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/28mm/git/" title="GIT Info" class="dd-item 
        parent
        
        
        ">
      <a href="/28mm/git/">
          <b>X. </b>GIT Info
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/28mm/git/branchingstrategy/" title="Branching and Merging Strategy" class="dd-item ">
        <a href="/28mm/git/branchingstrategy/">
        Branching and Merging Strategy
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/git/semanticversionenforcement/" title="Semantic Version Enforcement" class="dd-item active">
        <a href="/28mm/git/semanticversionenforcement/">
        Semantic Version Enforcement
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/28mm/paas/" title="Paas" class="dd-item 
        
        
        
        ">
      <a href="/28mm/paas/">
          <b>X. </b>Paas
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/28mm/paas/openshift/openshift/" title="OpenShift Container Platform" class="dd-item ">
        <a href="/28mm/paas/openshift/openshift/">
        OpenShift Container Platform
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/paas/pe_background/" title="Platform Engineering Background" class="dd-item ">
        <a href="/28mm/paas/pe_background/">
        Platform Engineering Background
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/28mm/tfs/" title="TFS Internal" class="dd-item 
        
        
        
        ">
      <a href="/28mm/tfs/">
          <b>X. </b>TFS Internal
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/28mm/tfs/team_types/" title="Team Types" class="dd-item ">
        <a href="/28mm/tfs/team_types/">
        Team Types
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/28mm/site_documentation/" title="Site Content Info" class="dd-item 
        
        
        
        ">
      <a href="/28mm/site_documentation/">
          <b>X. </b>Site Content Info
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/hugo_install/" title="Hugo Simple Install" class="dd-item ">
        <a href="/28mm/site_documentation/hugo_install/">
        Hugo Simple Install
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/markdown_notes/" title="Markdown Notes" class="dd-item ">
        <a href="/28mm/site_documentation/markdown_notes/">
        Markdown Notes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/shortcode_test/" title="Shortcodes" class="dd-item ">
        <a href="/28mm/site_documentation/shortcode_test/">
        Shortcodes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/flowcharts/" title="Flowcharts Notes" class="dd-item ">
        <a href="/28mm/site_documentation/flowcharts/">
        Flowcharts Notes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/html_based_pages/" title="HTML Embedded  Pages" class="dd-item ">
        <a href="/28mm/site_documentation/html_based_pages/">
        HTML Embedded  Pages
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/pdf_in_html/" title="PDF in HTML" class="dd-item ">
        <a href="/28mm/site_documentation/pdf_in_html/">
        PDF in HTML
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/28mm/site_documentation/visio_from_export/" title="Visio from Export" class="dd-item ">
        <a href="/28mm/site_documentation/visio_from_export/">
        Visio from Export
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p><a>Built with Hugo</a></p>
<p></p> &copy; Walmo 2020</p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/28mm/'>Auto-Doc</a> > <a href='/28mm/git/'>GIT Info</a> > Semantic Version Enforcement
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#commit-comment-format">Commit Comment Format</a></li>
    <li><a href="#determination-of-semantic-version">Determination of Semantic Version</a></li>
    <li><a href="#semantic-version-tools">Semantic Version Tools</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
<div class="tags">

  <a class="tag-link" href="/28mm/tags/git">git</a>

</div>

        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Semantic Version Enforcement
            </h1>
          

        



<p>Going forward the commit comment format will be enforced in GitHub, to allow semantic versioning of the builds. This is a basic development discipline to allow control and automation of code delivery.</p>
<p>This enforcement will be rolled out sympathetically to all GitHub repositories, so as not to interfere with the in flight releases.</p>
<p>This change consists off the format of the commit comments, from which the semantic version is derived and set of scripts to enforce and help with commits.</p>
<h2 id="commit-comment-format">Commit Comment Format</h2>
<p>Development will be done on branches, created from the mainline streams. Currently only have the master mainline stream, but as process matures will have stream for each major semantic version.</p>
<p>There will be two types of branches, normal development and hotfix. Normal development will be branched from the head of the mainline stream (master), while hotfix will be branched from a tagged release. All work must be done from a JIRA ticket.</p>
<p>For a normal development release the commit comment should be of the format given by the following regex</p>
<p><code>^[A-Z]+-[[:digit:]]+ : (MAJOR|MINOR|PATCH) : [[:alnum:]]+</code></p>
<p>The first part if the JIRA ticket id, the second part is the semantic change, the third part is a description of the change. For example</p>
<p><code>DYB-12345 : MINOR : An example comment</code></p>
<p><strong>Note</strong> the spacing around field separator (:), this is to simplify reading, making it consistently formatted.</p>
<p>The semantic version part, should should take the value, MAJOR, MINOR or PATCH, all upper case; as explained below</p>
<ul>
<li>MAJOR : A change that is backward breaking, currently this isn&rsquo;t supported</li>
<li>MINOR : A change that adds new functionality</li>
<li>PATCH : A fix for existing functionality</li>
</ul>
<p>The decision on the semantic version value should be done by the developer, the ticket author and if required the appropriate technical consultant.</p>
<p>For a hotfix the commit message should be of the format given by the following regex</p>
<p><code>^[A-Z]+-[[:digit:]]+ : HOTFIX : [[:alnum:]]+</code></p>
<p>For example</p>
<p><code>DYB-54321 : HOTFIX : Need this fixed now</code></p>
<p>These formats should be applied to all commits, including when merging pull requests. Github isn&rsquo;t helpful here, as it pre-fills the merge commit message, the title of the merge box; this should be edited manually when merging.</p>
<h2 id="determination-of-semantic-version">Determination of Semantic Version</h2>
<p>The reason for enforcement of the commit comment is to determine the semantic version of the generated artefact.</p>
<p>For a normal change, on a mainline stream, the version of the generated artefact will be <code>major.minor.patch</code> for example <code>3.4.12</code>.</p>
<p>A build which publishes an artefact will check the last published release, by looking for the the last tag. If none is found it will take a default value. It will then look at all the commit comments since that tag, and look for the highest semantic version value in all the commit comments (MAJOR &gt; MINOR |&gt; PATCH). It will increment the semantic version and tag the code with the new version.</p>
<p>For example if the last tag was <code>3.4.12</code> and the commit comments since then are</p>
<p><code>PE-3567 : PATCH : A bugfix</code></p>
<p><code>PE-3371 : PATCH : Fix logic</code></p>
<p><code>PE-3371 : MINOR : Add new endpoint</code></p>
<p>The highest semantic version value is <code>MINOR</code>, so the semantic version will be incremented to <code>3.5.0</code></p>
<p>See the document about versioning strategy for a fuller description of this semantic version incrementing.</p>
<p>For a hotfix release the semantic version will take the format <code>major.minor.patch-hotfix.buildnumber</code>for example <code>3.4.12-hotfix.22</code>.</p>
<p>When the release build is run against a hotfix branch, it will find the last tag, which will be the tag that the hotfix branch was created against. It will take this tag and add the term <code>-hotfix</code> and its build number to the tag and then tag the code with the new tag. The use of the original tag allows multiple hotfix developments, and the use of the build number allows multiple attempts at each of the hot fixes.</p>
<h2 id="semantic-version-tools">Semantic Version Tools</h2>
<p>A new directory has been added to the ms-template, called setup, which contains the tools to control semantic versioning. This will also be added to all other template used by auto-mate.</p>
<p>The scripts in this directory includes the hooks to enforce the commit patterns and scripts to work out the semantic version from the commit comments. See the README in the directory for more details.</p>
<p>There are two script of interest for any development activities.</p>
<p>The first is <code>development-setup.sh</code>, this sets up the hooks on the developers local copy of the git project. This is called by default for every build but running</p>
<p><code>gradle setupDevelopment</code></p>
<p>Will do it without running a build.</p>
<p>The second is <code>create-hotfix.sh</code> ,  this creates the hotfix branch. It requires the release tag of the artefact to be hot fixed as its only argument.</p>
<p>The other scripts are described at the end of the README.</p>


  
<footer class="footline">
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/28mm/git/branchingstrategy/" title="Branching and Merging Strategy"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/28mm/paas/" title="Paas" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/28mm/js/clipboard.min.js?1588328735"></script>
    <script src="/28mm/js/perfect-scrollbar.min.js?1588328735"></script>
    <script src="/28mm/js/perfect-scrollbar.jquery.min.js?1588328735"></script>
    <script src="/28mm/js/jquery.sticky.js?1588328735"></script>
    <script src="/28mm/js/featherlight.min.js?1588328735"></script>
    <script src="/28mm/js/highlight.pack.js?1588328735"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/28mm/js/modernizr.custom-3.6.0.js?1588328735"></script>
    <script src="/28mm/js/learn.js?1588328735"></script>
    <script src="/28mm/js/hugo-learn.js?1588328735"></script>

    <link href="/28mm/mermaid/mermaid.css?1588328735" rel="stylesheet" />
    <script src="/28mm/mermaid/mermaid.js?1588328735"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

